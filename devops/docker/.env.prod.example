# =============================================================================
# Sibyl MCP Server - Production Environment
# =============================================================================

# Build Configuration
BUILD_TARGET=runtime
VERSION=0.1.0
BUILD_DATE=
VCS_REF=main

# Server Configuration
SIBYL_SERVER_MODE=http
SIBYL_LOG_LEVEL=INFO
SIBYL_LOG_FILE=/var/log/sibyl/sibyl.log
SIBYL_ENABLE_METRICS=true
SIBYL_METRICS_PORT=9090

# HTTP Server
SIBYL_ENABLE_HTTP_SERVER=true
MCP_HTTP_HOST=0.0.0.0
MCP_HTTP_PORT=8770
SIBYL_HOST=0.0.0.0
SIBYL_PORT=8000

# External port mappings (not used in prod, nginx handles this)
SIBYL_MCP_HTTP_PORT=8770
SIBYL_REST_PORT=8000

# Workspace Configuration
SIBYL_WORKSPACE_FILE=/app/config/workspaces/prod_web_research.yaml
WORKSPACE_PATH=../../../

# DuckDB Configuration
DUCKDB_MEMORY_LIMIT=4GB
MCP_DUCKDB_PATH=/var/lib/sibyl/state/sibyl_state.duckdb

# API Keys (MUST use secrets file in production)
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
SECRETS_FILE=./.secrets/api_keys.txt

# Resource Limits (prod uses more resources)
SIBYL_CPU_LIMIT=4.0
SIBYL_CPU_REQUEST=1.0
SIBYL_MEMORY_LIMIT=8G
SIBYL_MEMORY_REQUEST=2G

# Nginx Configuration
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# Observability Stack
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_USER=admin
GRAFANA_PASSWORD=  # REQUIRED: Set secure password via environment variable or secrets file
GRAFANA_ROOT_URL=http://localhost:3000
GRAFANA_PLUGINS=grafana-piechart-panel,grafana-polystat-panel
LOKI_PORT=3100
JAEGER_UI_PORT=16686
JAEGER_COLLECTOR_PORT=14268
JAEGER_OTLP_GRPC_PORT=4317
JAEGER_OTLP_HTTP_PORT=4318

# Environment Metadata
ENVIRONMENT=production
HOSTNAME=sibyl-prod
